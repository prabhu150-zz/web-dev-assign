<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Practice with Jquery</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $("document").ready(() => {
            /*
            var submitCount = 1;

            function createsubmit() {
                $("body").append(`<submit id=\'submit-${submitCount}'\> submit ${submitCount}</submit><br/>`)
                submitCount += 1
            }

            function alertUser() {
                alert("submit clicked!")
            }

            createsubmit()
            $("#submit-1").click(alertUser)

            createsubmit()
            $("#submit-2").bind("click", alertUser)

            createsubmit()
            $("#submit-3").on("click", alertUser)

            $("body").append("<br/><br/><br/>")

            createsubmit()
            createsubmit()

            $("#submit-4,#submit-5").on("click", alertUser)
            */
            let div_css = document.createElement("div")
            div_css.setAttribute("id","div_css")
            
            let span = document.createElement("span") 
            span.setAttribute('id','span_area')
            span.textContent = "Span Initialized!"

            
            let link = document.createElement("a")
            link.setAttribute("href","https://www.modulemedia.com") 
            link.setAttribute("id","media_link") 
            link.textContent = "Module Media"
            
            let textfield = document.createElement("input")
            textfield.setAttribute('id',"focus_demo")
            textfield.placeholder = "Test my focus!"

            let form = document.createElement("form")
            form.setAttribute("id","form-demo")
            form.setAttribute('method','POST')
            form.setAttribute('action','#')
            
            let nameInput = document.createElement("input")
            nameInput.setAttribute('id','name')
            nameInput.placeholder = "Enter Name"
            nameInput.setAttribute('style','display:block;margin-top: 10px')
            
            let emailInput = document.createElement("input")
            emailInput.setAttribute('id','email')
            emailInput.placeholder = "Enter Email"
            emailInput.setAttribute('style','display:block; margin-top: 10px')
            
            let submit = document.createElement("button")
            submit.textContent = "Submit"
            submit.setAttribute('id','submit')
            submit.setAttribute('style','display:block;margin-top: 10px')

            let form_elements = [nameInput,emailInput,submit]

            for(let form_element of form_elements)
            form.appendChild(form_element)
            
            let div_browser_size = document.createElement("div")
            div_browser_size.setAttribute("id","browser_size")
            div_browser_size.innerHTML = `Width : ${$(window).width()}px <br/> Height : ${$(window).height()}px`
            
            let elements = [form,div_css,span,div_browser_size,link,textfield]
            
            div_browser_size = $("#browser_size")

            for(let element of elements)
            $("body").append(element,"<br/><br/>")

            $("#div_css").css({
                "width": "400px",
                "height": "400px",
                "background-color": "blue",
            })

            $("#browser_size").css({
                    "color": "#CC1C0D",
                    "border": "1px solid black",
                    "padding": "3px 0px 3px 20px",
                    "border-radius": "0px 5px 0px 5px",
                    "background-color": "#DFE3E6",
                    "margin" : "5px 0 5px 0",
                    "width": "380px",
            })

            
            $("#span_area").on("click",()=> {
                $("#span_area").text("Span Clicked!") 
            })
            $("#span_area").on("mouseenter", ()=> {
                $("#span_area").text("Mouse Entered Span!") 
            })
            $("#span_area").on("mouseleave",()=> {
                $("#span_area").text("Mouse Left Span!") 
            })

        
            $("#media_link").on('click', (event) => {
                event.preventDefault();
                $("#media_link").css({
                    "color" : "red",
                    "text-decoration" : "none"
                })
                console.log("Event ",event)
                alert(`Node ${event.target} triggered the event`) // not sure which node is needed to be sent. Clarification needed
            })  

            /*
            $("div").on("click", () => {
                alert("Div Clicked")
            })
            $("div").on("mouseenter", () => {
                alert("Div Mouse Enter")
            })
            $("div").on("mouseleave", () => {
                alert("Div Mouse Leave")
            })
            */
            $("body").append("<br/><br/><br/>")
            
            $(window).resize(function () {
                let currentWindow = $(window)
                console.log("Window resized to ",currentWindow.width(),currentWindow.height())
                $("#browser_size").text(`Width: ${currentWindow.width()} Height: ${currentWindow.height()}`)
            })

            $("#focus_demo").focusin(() => {
                $("#focus_demo").css({
                    "background-color" : "lightgray"
                })
            })
            
            $("#focus_demo").focusout(() => {
                $("#focus_demo").css({
                    "background-color" : "white"
                })
            })

        function resetInputs(){
            $("#name").focusin(() => {
                $("#name").css({
                    "border" : "none"
                })
            })
            $("#email").focusin(() => {
                $("#email").css({
                    "border" : "none"
                })
            })
        }

            $("#form-demo").on("submit",(event)=>{
                event.preventDefault(); // remove this later.

                let warn_css = {
                    "border" : "1.5px solid red"
                } 
                let success_css = {
                    "border" : "1.5px solid green"
                }
            
                var validInput = true
                var inputs = [$("#name"),$("#email")]
                var errorMessage = ""
                
                for(let input of inputs)
                if(input.val() == "")
                {
                    validInput = false
                    input.css(warn_css)
                    errorMessage += `*Required Field. Please ${input.attr('placeholder')} \n`
                }else{
                    input.css(success_css)
                }
                
                if(validInput == false)
                    alert(errorMessage)

            })



        });
        
    </script>

</head>

<body>


</body>

</html>